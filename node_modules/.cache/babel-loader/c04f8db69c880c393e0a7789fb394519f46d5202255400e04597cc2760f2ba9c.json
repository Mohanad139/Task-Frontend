{"ast":null,"code":"import _objectSpread from\"/Users/mohanadbahammam/Desktop/taskflow-frontend/task-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Tasks(){const{projectId}=useParams();const token=localStorage.getItem('token');const myUserId=Number(localStorage.getItem('user_id'));const[tasks,setTasks]=useState([]);const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[status,setStatus]=useState('todo');const[priority,setPriority]=useState('medium');const[isCreating,setIsCreating]=useState(false);const[editingId,setEditingId]=useState(null);const[editForm,setEditForm]=useState({title:'',description:'',status:'todo',priority:'medium'});const[teamMembers,setTeamMembers]=useState([]);const[myRole,setMyRole]=useState(null);const[teamId,setTeamId]=useState(null);const[projectName,setProjectName]=useState('');const[assignOpenForTask,setAssignOpenForTask]=useState(null);const[commentsOpenForTask,setCommentsOpenForTask]=useState(null);const[assignees,setAssignees]=useState([]);const[selectedUserId,setSelectedUserId]=useState('');const[comments,setComments]=useState([]);const[commentText,setCommentText]=useState('');const[editingCommentId,setEditingCommentId]=useState(null);const[commentEditText,setCommentEditText]=useState('');const fetchTasks=()=>{return fetch(\"http://18.217.29.216:8000/projects/\".concat(projectId,\"/tasks\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>res.json()).then(data=>setTasks(data.Tasks||[]));};useEffect(()=>{fetchTasks().catch(console.error);},[projectId,token]);useEffect(()=>{if(!projectId)return;fetch(\"http://18.217.29.216:8000/projects/\".concat(projectId),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>res.json()).then(data=>{const project=data.message||data;const tid=project[1];const pname=project[2];setTeamId(tid);setProjectName(pname);return fetch(\"http://18.217.29.216:8000/teams/\".concat(tid,\"/members\"),{headers:{Authorization:\"Bearer \".concat(token)}});}).then(res=>res.json()).then(data=>{const list=data.members||[];setTeamMembers(list);const me=list.find(m=>m[0]===myUserId);setMyRole(me?me[2]:null);}).catch(console.error);},[projectId,myUserId,token]);const canAssign=myRole==='owner'||myRole==='admin';const createTask=()=>{if(!title.trim()){alert('Please enter a task title');return;}fetch(\"http://18.217.29.216:8000/projects/\".concat(projectId,\"/tasks\"),{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({title,description,status,priority,due_date:null})}).then(()=>fetchTasks()).then(()=>{setTitle('');setDescription('');setStatus('todo');setPriority('medium');setIsCreating(false);}).catch(console.error);};const deleteTask=taskId=>{if(!window.confirm('Delete this task?'))return;fetch(\"http://18.217.29.216:8000/tasks/\".concat(taskId),{method:'DELETE',headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>fetchTasks()).catch(console.error);};const startEdit=task=>{setEditingId(task[0]);setEditForm({title:task[2]||'',description:task[3]||'',status:task[4]||'todo',priority:task[5]||'medium'});};const saveEdit=taskId=>{fetch(\"http://18.217.29.216:8000/tasks/\".concat(taskId),{method:'PUT',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify(_objectSpread(_objectSpread({},editForm),{},{due_date:null}))}).then(()=>fetchTasks()).then(()=>setEditingId(null)).catch(console.error);};const cancelEdit=()=>setEditingId(null);const fetchAssignees=taskId=>{return fetch(\"http://18.217.29.216:8000/tasks/\".concat(taskId,\"/assignees\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>res.json()).then(data=>setAssignees(data[\"Assigned to :\"]||[]));};const openAssign=taskId=>{setAssignOpenForTask(taskId);setSelectedUserId('');fetchAssignees(taskId).catch(console.error);};const closeAssign=()=>{setAssignOpenForTask(null);setAssignees([]);setSelectedUserId('');};const assignUser=taskId=>{if(!selectedUserId)return;fetch(\"http://18.217.29.216:8000/tasks/\".concat(taskId,\"/assign\"),{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({user_ids:[Number(selectedUserId)]})}).then(()=>fetchAssignees(taskId)).then(()=>setSelectedUserId('')).catch(console.error);};const unassignUser=(taskId,userId)=>{fetch(\"http://18.217.29.216:8000/tasks/\".concat(taskId,\"/unassign/\").concat(userId),{method:'DELETE',headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>fetchAssignees(taskId)).catch(console.error);};const fetchComments=taskId=>{return fetch(\"http://18.217.29.216:8000/tasks/\".concat(taskId,\"/comments\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>res.json()).then(data=>setComments(data.Comments||[]));};const openComments=taskId=>{setCommentsOpenForTask(taskId);setCommentText('');setEditingCommentId(null);setCommentEditText('');fetchComments(taskId).catch(console.error);};const closeComments=()=>{setCommentsOpenForTask(null);setComments([]);setCommentText('');setEditingCommentId(null);setCommentEditText('');};const addComment=taskId=>{if(!commentText.trim())return;fetch(\"http://18.217.29.216:8000/tasks/\".concat(taskId,\"/comments\"),{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({comment:commentText})}).then(()=>fetchComments(taskId)).then(()=>setCommentText('')).catch(console.error);};const startEditComment=c=>{setEditingCommentId(c[0]);setCommentEditText(c[2]||'');};const saveEditComment=(taskId,commentId)=>{fetch(\"http://18.217.29.216:8000/comments/\".concat(commentId),{method:'PUT',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({comment:commentEditText})}).then(()=>fetchComments(taskId)).then(()=>{setEditingCommentId(null);setCommentEditText('');}).catch(console.error);};const cancelEditComment=()=>{setEditingCommentId(null);setCommentEditText('');};const deleteComment=(taskId,commentId)=>{if(!window.confirm('Delete this comment?'))return;fetch(\"http://18.217.29.216:8000/comments/\".concat(commentId),{method:'DELETE',headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>fetchComments(taskId)).catch(console.error);};const getStatusColor=status=>{const colors={'todo':'bg-gray-100 text-gray-700 border-gray-200','in_progress':'bg-blue-100 text-blue-700 border-blue-200','done':'bg-green-100 text-green-700 border-green-200','blocked':'bg-red-100 text-red-700 border-red-200'};return colors[status]||'bg-gray-100 text-gray-700 border-gray-200';};const getPriorityColor=priority=>{const colors={'low':'text-gray-600','medium':'text-yellow-600','high':'text-orange-600','urgent':'text-red-600'};return colors[priority]||'text-gray-600';};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"bg-white shadow-sm border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between h-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent cursor-pointer\",children:\"TaskFlow\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(Link,{to:\"/teams\",className:\"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition\",children:\"Teams\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{localStorage.clear();window.location.href='/login';},className:\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition shadow-sm\",children:\"Logout\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2 text-sm\",children:[/*#__PURE__*/_jsx(Link,{to:\"/teams\",className:\"text-gray-500 hover:text-blue-600 transition\",children:\"Teams\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"/\"}),/*#__PURE__*/_jsx(Link,{to:\"/teams/\".concat(teamId,\"/projects\"),className:\"text-gray-500 hover:text-blue-600 transition\",children:\"Projects\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"/\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 font-semibold\",children:\"Tasks\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:projectName||\"Project \".concat(projectId)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Manage tasks and track progress\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsCreating(!isCreating),className:\"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-semibold shadow-lg transition transform hover:scale-105\",children:isCreating?'Cancel':'+ New Task'})]}),isCreating&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"Create New Task\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Task Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g., Design homepage mockup\",value:title,onChange:e=>setTitle(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Add task details...\",value:description,onChange:e=>setDescription(e.target.value),rows:\"3\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition resize-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:e=>setStatus(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"todo\",children:\"Todo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"in_progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"done\",children:\"Done\"}),/*#__PURE__*/_jsx(\"option\",{value:\"blocked\",children:\"Blocked\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Priority\"}),/*#__PURE__*/_jsxs(\"select\",{value:priority,onChange:e=>setPriority(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"urgent\",children:\"Urgent\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:createTask,className:\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition\",children:\"Create Task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsCreating(false);setTitle('');setDescription('');setStatus('todo');setPriority('medium');},className:\"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 rounded-lg transition\",children:\"Cancel\"})]})]})]}),tasks.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 rounded-full p-6 w-24 h-24 mx-auto mb-4 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"No tasks yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Create your first task to get started.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsCreating(true),className:\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition\",children:\"Create First Task\"})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:tasks.map(task=>{const tid=task[0];return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all\",children:editingId===tid?/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Edit Task\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Task Title\",value:editForm.title,onChange:e=>setEditForm(p=>_objectSpread(_objectSpread({},p),{},{title:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",value:editForm.description,onChange:e=>setEditForm(p=>_objectSpread(_objectSpread({},p),{},{description:e.target.value})),rows:\"3\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:editForm.status,onChange:e=>setEditForm(p=>_objectSpread(_objectSpread({},p),{},{status:e.target.value})),className:\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"todo\",children:\"Todo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"in_progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"done\",children:\"Done\"}),/*#__PURE__*/_jsx(\"option\",{value:\"blocked\",children:\"Blocked\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:editForm.priority,onChange:e=>setEditForm(p=>_objectSpread(_objectSpread({},p),{},{priority:e.target.value})),className:\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"urgent\",children:\"Urgent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>saveEdit(tid),className:\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold transition\",children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEdit,className:\"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold transition\",children:\"Cancel\"})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-2\",children:task[2]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-3\",children:task[3]||'No description'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-medium border \".concat(getStatusColor(task[4])),children:task[4]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold \".concat(getPriorityColor(task[5])),children:[task[5],\" priority\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEdit(task),className:\"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition\",children:\"Edit\"}),canAssign&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>openAssign(tid),className:\"bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-lg font-medium transition\",children:\"Assign\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>openComments(tid),className:\"bg-purple-100 hover:bg-purple-200 text-purple-700 px-4 py-2 rounded-lg font-medium transition\",children:\"Comments\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTask(tid),className:\"bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg font-medium transition\",children:\"Delete\"})]}),assignOpenForTask===tid&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\"Assign Users\"}),/*#__PURE__*/_jsx(\"button\",{onClick:closeAssign,className:\"bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full p-2\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6 space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 rounded-xl p-4 border border-blue-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedUserId,onChange:e=>setSelectedUserId(e.target.value),className:\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select user\"}),teamMembers.map(m=>/*#__PURE__*/_jsxs(\"option\",{value:m[0],children:[m[4],\" (\",m[5],\")\"]},m[0]))]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>assignUser(tid),className:\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold\",children:\"Assign\"})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900 mb-3\",children:\"Assigned Members\"}),assignees.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-8\",children:\"No assignees\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:assignees.map((a,idx)=>{const uid=a[1]||a[0];const label=a[2]||\"User \".concat(uid);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:label}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>unassignUser(tid,uid),className:\"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-1 rounded-lg text-sm font-medium\",children:\"Remove\"})]},\"asg-\".concat(uid,\"-\").concat(idx));})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t p-4 bg-gray-50\",children:/*#__PURE__*/_jsx(\"button\",{onClick:closeAssign,className:\"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold\",children:\"Close\"})})]})}),commentsOpenForTask===tid&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\"Comments\"}),/*#__PURE__*/_jsx(\"button\",{onClick:closeComments,className:\"bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full p-2\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6 space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-50 rounded-xl p-4 border border-purple-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Write a comment...\",value:commentText,onChange:e=>setCommentText(e.target.value),className:\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addComment(tid),className:\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold\",children:\"Add\"})]})}),comments.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-8\",children:\"No comments yet\"}):comments.map(c=>{const cid=c[0];const text=c[2];const authorId=c[3];const authorName=c[4]||'Unknown';const canEditThis=authorId===myUserId;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-xl p-4 border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-purple-500 to-pink-500 rounded-full w-10 h-10 flex items-center justify-center text-white font-bold\",children:authorName.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900 mb-1\",children:authorName}),editingCommentId===cid?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:commentEditText,onChange:e=>setCommentEditText(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>saveEditComment(tid,cid),className:\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEditComment,className:\"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium\",children:\"Cancel\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-2\",children:text}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteComment(tid,cid),className:\"text-red-600 hover:text-red-700 text-sm font-medium\",children:\"Delete\"}),canEditThis&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditComment(c),className:\"text-purple-600 hover:text-purple-700 text-sm font-medium\",children:\"Edit\"})]})]})]})]})},cid);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t p-4 bg-gray-50\",children:/*#__PURE__*/_jsx(\"button\",{onClick:closeComments,className:\"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold\",children:\"Close\"})})]})})]})},tid);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8\",children:/*#__PURE__*/_jsxs(Link,{to:\"/teams/\".concat(teamId,\"/projects\"),className:\"inline-flex items-center text-gray-600 hover:text-blue-600 font-medium transition\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M10 19l-7-7m0 0l7-7m-7 7h18\"})}),\"Back to Projects\"]})})]})]});}export default Tasks;","map":{"version":3,"names":["useState","useEffect","useParams","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Tasks","projectId","token","localStorage","getItem","myUserId","Number","tasks","setTasks","title","setTitle","description","setDescription","status","setStatus","priority","setPriority","isCreating","setIsCreating","editingId","setEditingId","editForm","setEditForm","teamMembers","setTeamMembers","myRole","setMyRole","teamId","setTeamId","projectName","setProjectName","assignOpenForTask","setAssignOpenForTask","commentsOpenForTask","setCommentsOpenForTask","assignees","setAssignees","selectedUserId","setSelectedUserId","comments","setComments","commentText","setCommentText","editingCommentId","setEditingCommentId","commentEditText","setCommentEditText","fetchTasks","fetch","concat","headers","Authorization","then","res","json","data","catch","console","error","project","message","tid","pname","list","members","me","find","m","canAssign","createTask","trim","alert","method","body","JSON","stringify","due_date","deleteTask","taskId","window","confirm","startEdit","task","saveEdit","_objectSpread","cancelEdit","fetchAssignees","openAssign","closeAssign","assignUser","user_ids","unassignUser","userId","fetchComments","Comments","openComments","closeComments","addComment","comment","startEditComment","c","saveEditComment","commentId","cancelEditComment","deleteComment","getStatusColor","colors","getPriorityColor","className","children","to","onClick","clear","location","href","type","placeholder","value","onChange","e","target","rows","length","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","p","a","idx","uid","label","cid","text","authorId","authorName","canEditThis","charAt","toUpperCase"],"sources":["/Users/mohanadbahammam/Desktop/taskflow-frontend/task-frontend/src/endpoint/Tasks.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\n\nfunction Tasks() {\n  const { projectId } = useParams();\n  const token = localStorage.getItem('token');\n  const myUserId = Number(localStorage.getItem('user_id'));\n\n  const [tasks, setTasks] = useState([]);\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [status, setStatus] = useState('todo');\n  const [priority, setPriority] = useState('medium');\n  const [isCreating, setIsCreating] = useState(false);\n\n  const [editingId, setEditingId] = useState(null);\n  const [editForm, setEditForm] = useState({\n    title: '',\n    description: '',\n    status: 'todo',\n    priority: 'medium'\n  });\n\n  const [teamMembers, setTeamMembers] = useState([]);\n  const [myRole, setMyRole] = useState(null);\n  const [teamId, setTeamId] = useState(null);\n  const [projectName, setProjectName] = useState('');\n\n  const [assignOpenForTask, setAssignOpenForTask] = useState(null);\n  const [commentsOpenForTask, setCommentsOpenForTask] = useState(null);\n\n  const [assignees, setAssignees] = useState([]);\n  const [selectedUserId, setSelectedUserId] = useState('');\n\n  const [comments, setComments] = useState([]);\n  const [commentText, setCommentText] = useState('');\n  const [editingCommentId, setEditingCommentId] = useState(null);\n  const [commentEditText, setCommentEditText] = useState('');\n\n  const fetchTasks = () => {\n    return fetch(`http://18.217.29.216:8000/projects/${projectId}/tasks`, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then(res => res.json())\n      .then(data => setTasks(data.Tasks || []));\n  };\n\n  useEffect(() => {\n    fetchTasks().catch(console.error);\n  }, [projectId, token]);\n\n  useEffect(() => {\n    if (!projectId) return;\n    \n    fetch(`http://18.217.29.216:8000/projects/${projectId}`, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then(res => res.json())\n      .then(data => {\n        const project = data.message || data;\n        const tid = project[1];\n        const pname = project[2];\n        setTeamId(tid);\n        setProjectName(pname);\n        \n        return fetch(`http://18.217.29.216:8000/teams/${tid}/members`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n      })\n      .then(res => res.json())\n      .then(data => {\n        const list = data.members || [];\n        setTeamMembers(list);\n        \n        const me = list.find(m => m[0] === myUserId);\n        setMyRole(me ? me[2] : null);\n      })\n      .catch(console.error);\n  }, [projectId, myUserId, token]);\n\n  const canAssign = myRole === 'owner' || myRole === 'admin';\n\n  const createTask = () => {\n    if (!title.trim()) {\n      alert('Please enter a task title');\n      return;\n    }\n\n    fetch(`http://18.217.29.216:8000/projects/${projectId}/tasks`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({ title, description, status, priority, due_date: null })\n    })\n      .then(() => fetchTasks())\n      .then(() => {\n        setTitle('');\n        setDescription('');\n        setStatus('todo');\n        setPriority('medium');\n        setIsCreating(false);\n      })\n      .catch(console.error);\n  };\n\n  const deleteTask = (taskId) => {\n    if (!window.confirm('Delete this task?')) return;\n\n    fetch(`http://18.217.29.216:8000/tasks/${taskId}`, {\n      method: 'DELETE',\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then(() => fetchTasks())\n      .catch(console.error);\n  };\n\n  const startEdit = (task) => {\n    setEditingId(task[0]);\n    setEditForm({\n      title: task[2] || '',\n      description: task[3] || '',\n      status: task[4] || 'todo',\n      priority: task[5] || 'medium'\n    });\n  };\n\n  const saveEdit = (taskId) => {\n    fetch(`http://18.217.29.216:8000/tasks/${taskId}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({ ...editForm, due_date: null })\n    })\n      .then(() => fetchTasks())\n      .then(() => setEditingId(null))\n      .catch(console.error);\n  };\n\n  const cancelEdit = () => setEditingId(null);\n\n  const fetchAssignees = (taskId) => {\n    return fetch(`http://18.217.29.216:8000/tasks/${taskId}/assignees`, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then(res => res.json())\n      .then(data => setAssignees(data[\"Assigned to :\"] || []));\n  };\n\n  const openAssign = (taskId) => {\n    setAssignOpenForTask(taskId);\n    setSelectedUserId('');\n    fetchAssignees(taskId).catch(console.error);\n  };\n\n  const closeAssign = () => {\n    setAssignOpenForTask(null);\n    setAssignees([]);\n    setSelectedUserId('');\n  };\n\n  const assignUser = (taskId) => {\n    if (!selectedUserId) return;\n\n    fetch(`http://18.217.29.216:8000/tasks/${taskId}/assign`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({ user_ids: [Number(selectedUserId)] })\n    })\n      .then(() => fetchAssignees(taskId))\n      .then(() => setSelectedUserId(''))\n      .catch(console.error);\n  };\n\n  const unassignUser = (taskId, userId) => {\n    fetch(`http://18.217.29.216:8000/tasks/${taskId}/unassign/${userId}`, {\n      method: 'DELETE',\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then(() => fetchAssignees(taskId))\n      .catch(console.error);\n  };\n\n  const fetchComments = (taskId) => {\n    return fetch(`http://18.217.29.216:8000/tasks/${taskId}/comments`, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then(res => res.json())\n      .then(data => setComments(data.Comments || []));\n  };\n\n  const openComments = (taskId) => {\n    setCommentsOpenForTask(taskId);\n    setCommentText('');\n    setEditingCommentId(null);\n    setCommentEditText('');\n    fetchComments(taskId).catch(console.error);\n  };\n\n  const closeComments = () => {\n    setCommentsOpenForTask(null);\n    setComments([]);\n    setCommentText('');\n    setEditingCommentId(null);\n    setCommentEditText('');\n  };\n\n  const addComment = (taskId) => {\n    if (!commentText.trim()) return;\n\n    fetch(`http://18.217.29.216:8000/tasks/${taskId}/comments`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({ comment: commentText })\n    })\n      .then(() => fetchComments(taskId))\n      .then(() => setCommentText(''))\n      .catch(console.error);\n  };\n\n  const startEditComment = (c) => {\n    setEditingCommentId(c[0]);\n    setCommentEditText(c[2] || '');\n  };\n\n  const saveEditComment = (taskId, commentId) => {\n    fetch(`http://18.217.29.216:8000/comments/${commentId}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({ comment: commentEditText })\n    })\n      .then(() => fetchComments(taskId))\n      .then(() => {\n        setEditingCommentId(null);\n        setCommentEditText('');\n      })\n      .catch(console.error);\n  };\n\n  const cancelEditComment = () => {\n    setEditingCommentId(null);\n    setCommentEditText('');\n  };\n\n  const deleteComment = (taskId, commentId) => {\n    if (!window.confirm('Delete this comment?')) return;\n\n    fetch(`http://18.217.29.216:8000/comments/${commentId}`, {\n      method: 'DELETE',\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then(() => fetchComments(taskId))\n      .catch(console.error);\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      'todo': 'bg-gray-100 text-gray-700 border-gray-200',\n      'in_progress': 'bg-blue-100 text-blue-700 border-blue-200',\n      'done': 'bg-green-100 text-green-700 border-green-200',\n      'blocked': 'bg-red-100 text-red-700 border-red-200'\n    };\n    return colors[status] || 'bg-gray-100 text-gray-700 border-gray-200';\n  };\n\n  const getPriorityColor = (priority) => {\n    const colors = {\n      'low': 'text-gray-600',\n      'medium': 'text-yellow-600',\n      'high': 'text-orange-600',\n      'urgent': 'text-red-600'\n    };\n    return colors[priority] || 'text-gray-600';\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Navbar */}\n      <nav className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between h-16\">\n            <div className=\"flex items-center\">\n              <Link to=\"/dashboard\">\n                <h1 className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent cursor-pointer\">\n                  TaskFlow\n                </h1>\n              </Link>\n            </div>\n            \n            <div className=\"flex items-center space-x-4\">\n              <Link \n                to=\"/dashboard\" \n                className=\"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition\"\n              >\n                Dashboard\n              </Link>\n              <Link \n                to=\"/teams\" \n                className=\"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition\"\n              >\n                Teams\n              </Link>\n              \n              <button \n                onClick={() => {\n                  localStorage.clear();\n                  window.location.href = '/login';\n                }}\n                className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition shadow-sm\"\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8\">\n        {/* Breadcrumb */}\n        <div className=\"flex items-center gap-2 mb-2 text-sm\">\n          <Link to=\"/teams\" className=\"text-gray-500 hover:text-blue-600 transition\">Teams</Link>\n          <span className=\"text-gray-400\">/</span>\n          <Link to={`/teams/${teamId}/projects`} className=\"text-gray-500 hover:text-blue-600 transition\">Projects</Link>\n          <span className=\"text-gray-400\">/</span>\n          <span className=\"text-gray-900 font-semibold\">Tasks</span>\n        </div>\n\n        {/* Header */}\n        <div className=\"mb-8 flex justify-between items-center\">\n          <div>\n            <h2 className=\"text-3xl font-bold text-gray-900\">{projectName || `Project ${projectId}`}</h2>\n            <p className=\"text-gray-600 mt-1\">Manage tasks and track progress</p>\n          </div>\n          <button\n            onClick={() => setIsCreating(!isCreating)}\n            className=\"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-semibold shadow-lg transition transform hover:scale-105\"\n          >\n            {isCreating ? 'Cancel' : '+ New Task'}\n          </button>\n        </div>\n\n        {/* Create Task Form */}\n        {isCreating && (\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8\">\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">Create New Task</h3>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Task Title *</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"e.g., Design homepage mockup\"\n                  value={title}\n                  onChange={(e) => setTitle(e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\n                <textarea\n                  placeholder=\"Add task details...\"\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value)}\n                  rows=\"3\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition resize-none\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\n                  <select \n                    value={status} \n                    onChange={(e) => setStatus(e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\n                  >\n                    <option value=\"todo\">Todo</option>\n                    <option value=\"in_progress\">In Progress</option>\n                    <option value=\"done\">Done</option>\n                    <option value=\"blocked\">Blocked</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Priority</label>\n                  <select \n                    value={priority} \n                    onChange={(e) => setPriority(e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition\"\n                  >\n                    <option value=\"low\">Low</option>\n                    <option value=\"medium\">Medium</option>\n                    <option value=\"high\">High</option>\n                    <option value=\"urgent\">Urgent</option>\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={createTask}\n                  className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition\"\n                >\n                  Create Task\n                </button>\n                <button\n                  onClick={() => {\n                    setIsCreating(false);\n                    setTitle('');\n                    setDescription('');\n                    setStatus('todo');\n                    setPriority('medium');\n                  }}\n                  className=\"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 rounded-lg transition\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Tasks List */}\n        {tasks.length === 0 ? (\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center\">\n            <div className=\"max-w-md mx-auto\">\n              <div className=\"bg-gray-100 rounded-full p-6 w-24 h-24 mx-auto mb-4 flex items-center justify-center\">\n                <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                </svg>\n              </div>\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No tasks yet</h3>\n              <p className=\"text-gray-600 mb-6\">Create your first task to get started.</p>\n              <button\n                onClick={() => setIsCreating(true)}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition\"\n              >\n                Create First Task\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {tasks.map(task => {\n              const tid = task[0];\n\n              return (\n                <div key={tid} className=\"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all\">\n                  {editingId === tid ? (\n                    <div className=\"p-6\">\n                      <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Edit Task</h3>\n                      <div className=\"space-y-4\">\n                        <input\n                          placeholder=\"Task Title\"\n                          value={editForm.title}\n                          onChange={(e) => setEditForm(p => ({ ...p, title: e.target.value }))}\n                          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n                        />\n                        <textarea\n                          placeholder=\"Description\"\n                          value={editForm.description}\n                          onChange={(e) => setEditForm(p => ({ ...p, description: e.target.value }))}\n                          rows=\"3\"\n                          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none\"\n                        />\n\n                        <div className=\"grid grid-cols-2 gap-4\">\n                          <select\n                            value={editForm.status}\n                            onChange={(e) => setEditForm(p => ({ ...p, status: e.target.value }))}\n                            className=\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n                          >\n                            <option value=\"todo\">Todo</option>\n                            <option value=\"in_progress\">In Progress</option>\n                            <option value=\"done\">Done</option>\n                            <option value=\"blocked\">Blocked</option>\n                          </select>\n\n                          <select\n                            value={editForm.priority}\n                            onChange={(e) => setEditForm(p => ({ ...p, priority: e.target.value }))}\n                            className=\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n                          >\n                            <option value=\"low\">Low</option>\n                            <option value=\"medium\">Medium</option>\n                            <option value=\"high\">High</option>\n                            <option value=\"urgent\">Urgent</option>\n                          </select>\n                        </div>\n\n                        <div className=\"flex gap-3\">\n                          <button\n                            onClick={() => saveEdit(tid)}\n                            className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold transition\"\n                          >\n                            Save Changes\n                          </button>\n                          <button\n                            onClick={cancelEdit}\n                            className=\"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold transition\"\n                          >\n                            Cancel\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"p-6\">\n                      <div className=\"flex items-start justify-between mb-4\">\n                        <div className=\"flex-1\">\n                          <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{task[2]}</h3>\n                          <p className=\"text-gray-600 mb-3\">{task[3] || 'No description'}</p>\n                          <div className=\"flex items-center gap-2\">\n                            <span className={`px-3 py-1 rounded-full text-xs font-medium border ${getStatusColor(task[4])}`}>\n                              {task[4]}\n                            </span>\n                            <span className={`text-sm font-semibold ${getPriorityColor(task[5])}`}>\n                              {task[5]} priority\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"flex flex-wrap gap-2\">\n                        <button\n                          onClick={() => startEdit(task)}\n                          className=\"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition\"\n                        >\n                          Edit\n                        </button>\n\n                        {canAssign && (\n                          <button\n                            onClick={() => openAssign(tid)}\n                            className=\"bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-lg font-medium transition\"\n                          >\n                            Assign\n                          </button>\n                        )}\n\n                        <button\n                          onClick={() => openComments(tid)}\n                          className=\"bg-purple-100 hover:bg-purple-200 text-purple-700 px-4 py-2 rounded-lg font-medium transition\"\n                        >\n                          Comments\n                        </button>\n\n                        <button\n                          onClick={() => deleteTask(tid)}\n                          className=\"bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg font-medium transition\"\n                        >\n                          Delete\n                        </button>\n                      </div>\n\n                      {/* ASSIGN MODAL */}\n                      {assignOpenForTask === tid && (\n                        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n                          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col\">\n                            <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white\">\n                              <div className=\"flex justify-between items-center\">\n                                <h3 className=\"text-2xl font-bold\">Assign Users</h3>\n                                <button onClick={closeAssign} className=\"bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full p-2\">\n                                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                                  </svg>\n                                </button>\n                              </div>\n                            </div>\n\n                            <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n                              <div className=\"bg-blue-50 rounded-xl p-4 border border-blue-100\">\n                                <div className=\"flex gap-3\">\n                                  <select\n                                    value={selectedUserId}\n                                    onChange={(e) => setSelectedUserId(e.target.value)}\n                                    className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n                                  >\n                                    <option value=\"\">Select user</option>\n                                    {teamMembers.map(m => (\n                                      <option key={m[0]} value={m[0]}>\n                                        {m[4]} ({m[5]})\n                                      </option>\n                                    ))}\n                                  </select>\n                                  <button\n                                    onClick={() => assignUser(tid)}\n                                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold\"\n                                  >\n                                    Assign\n                                  </button>\n                                </div>\n                              </div>\n\n                              <div>\n                                <h4 className=\"font-semibold text-gray-900 mb-3\">Assigned Members</h4>\n                                {assignees.length === 0 ? (\n                                  <p className=\"text-gray-500 text-center py-8\">No assignees</p>\n                                ) : (\n                                  <div className=\"space-y-2\">\n                                    {assignees.map((a, idx) => {\n                                      const uid = a[1] || a[0];\n                                      const label = a[2] || `User ${uid}`;\n                                      return (\n                                        <div key={`asg-${uid}-${idx}`} className=\"flex items-center justify-between bg-gray-50 p-4 rounded-lg\">\n                                          <span className=\"font-medium text-gray-900\">{label}</span>\n                                          <button\n                                            onClick={() => unassignUser(tid, uid)}\n                                            className=\"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-1 rounded-lg text-sm font-medium\"\n                                          >\n                                            Remove\n                                          </button>\n                                        </div>\n                                      );\n                                    })}\n                                  </div>\n                                )}\n                              </div>\n                            </div>\n\n                            <div className=\"border-t p-4 bg-gray-50\">\n                              <button onClick={closeAssign} className=\"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold\">\n                                Close\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      )}\n\n                      {/* COMMENTS MODAL */}\n                      {commentsOpenForTask === tid && (\n                        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n                          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col\">\n                            <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white\">\n                              <div className=\"flex justify-between items-center\">\n                                <h3 className=\"text-2xl font-bold\">Comments</h3>\n                                <button onClick={closeComments} className=\"bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full p-2\">\n                                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                                  </svg>\n                                </button>\n                              </div>\n                            </div>\n\n                            <div className=\"flex-1 overflow-y-auto p-6 space-y-4\">\n                              <div className=\"bg-purple-50 rounded-xl p-4 border border-purple-100\">\n                                <div className=\"flex gap-3\">\n                                  <input\n                                    placeholder=\"Write a comment...\"\n                                    value={commentText}\n                                    onChange={(e) => setCommentText(e.target.value)}\n                                    className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none\"\n                                  />\n                                  <button\n                                    onClick={() => addComment(tid)}\n                                    className=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold\"\n                                  >\n                                    Add\n                                  </button>\n                                </div>\n                              </div>\n\n                              {comments.length === 0 ? (\n                                <p className=\"text-gray-500 text-center py-8\">No comments yet</p>\n                              ) : (\n                                comments.map(c => {\n                                  const cid = c[0];\n                                  const text = c[2];\n                                  const authorId = c[3];\n                                  const authorName = c[4] || 'Unknown';\n                                  const canEditThis = authorId === myUserId;\n\n                                  return (\n                                    <div key={cid} className=\"bg-gray-50 rounded-xl p-4 border border-gray-200\">\n                                      <div className=\"flex items-start gap-3\">\n                                        <div className=\"bg-gradient-to-br from-purple-500 to-pink-500 rounded-full w-10 h-10 flex items-center justify-center text-white font-bold\">\n                                          {authorName.charAt(0).toUpperCase()}\n                                        </div>\n                                        <div className=\"flex-1\">\n                                          <p className=\"font-semibold text-gray-900 mb-1\">{authorName}</p>\n                                          {editingCommentId === cid ? (\n                                            <div className=\"space-y-2\">\n                                              <input\n                                                value={commentEditText}\n                                                onChange={(e) => setCommentEditText(e.target.value)}\n                                                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n                                              />\n                                              <div className=\"flex gap-2\">\n                                                <button\n                                                  onClick={() => saveEditComment(tid, cid)}\n                                                  className=\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium\"\n                                                >\n                                                  Save\n                                                </button>\n                                                <button\n                                                  onClick={cancelEditComment}\n                                                  className=\"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium\"\n                                                >\n                                                  Cancel\n                                                </button>\n                                              </div>\n                                            </div>\n                                          ) : (\n                                            <>\n                                              <p className=\"text-gray-700 mb-2\">{text}</p>\n                                              <div className=\"flex gap-2\">\n                                                <button\n                                                  onClick={() => deleteComment(tid, cid)}\n                                                  className=\"text-red-600 hover:text-red-700 text-sm font-medium\"\n                                                >\n                                                  Delete\n                                                </button>\n                                                {canEditThis && (\n                                                  <button\n                                                    onClick={() => startEditComment(c)}\n                                                    className=\"text-purple-600 hover:text-purple-700 text-sm font-medium\"\n                                                  >\n                                                    Edit\n                                                  </button>\n                                                )}\n                                              </div>\n                                            </>\n                                          )}\n                                        </div>\n                                      </div>\n                                    </div>\n                                  );\n                                })\n                              )}\n                            </div>\n\n                            <div className=\"border-t p-4 bg-gray-50\">\n                              <button onClick={closeComments} className=\"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold\">\n                                Close\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        )}\n\n        {/* Back Button */}\n        <div className=\"mt-8\">\n          <Link\n            to={`/teams/${teamId}/projects`}\n            className=\"inline-flex items-center text-gray-600 hover:text-blue-600 font-medium transition\"\n          >\n            <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n            </svg>\n            Back to Projects\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Tasks;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}