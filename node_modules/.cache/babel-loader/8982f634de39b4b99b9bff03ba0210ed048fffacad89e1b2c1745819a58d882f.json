{"ast":null,"code":"import _objectSpread from\"/Users/mohanadbahammam/Desktop/task-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useSortable}from'@dnd-kit/sortable';import{CSS}from'@dnd-kit/utilities';import{cn}from'../../utils/cn';import{PriorityBadge}from'../ui/Badge';import{AvatarGroup}from'../ui/Avatar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function KanbanCard(_ref){let{task,onEdit,onDelete,onAssign,onComment,onComplete,assignees=[]}=_ref;const{attributes,listeners,setNodeRef,transform,transition,isDragging}=useSortable({id:task.id});const style={transform:CSS.Transform.toString(transform),transition};const assigneeNames=assignees.map(a=>a[1]||a.username||'User');return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:setNodeRef,style:style},attributes),listeners),{},{className:cn('bg-white rounded-lg border border-gray-200 p-3 cursor-grab active:cursor-grabbing','hover:shadow-card transition-shadow duration-150','group',isDragging&&'shadow-lifted opacity-90 rotate-2'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 line-clamp-2\",children:task.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\",children:[task.status!=='done'&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onComplete===null||onComplete===void 0?void 0:onComplete(task);},className:\"p-1 text-gray-400 hover:text-emerald-500 rounded\",title:\"Mark as Complete\",children:/*#__PURE__*/_jsx(CheckIcon,{className:\"h-3.5 w-3.5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onEdit===null||onEdit===void 0?void 0:onEdit(task);},className:\"p-1 text-gray-400 hover:text-gray-600 rounded\",title:\"Edit\",children:/*#__PURE__*/_jsx(EditIcon,{className:\"h-3.5 w-3.5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onDelete===null||onDelete===void 0?void 0:onDelete(task);},className:\"p-1 text-gray-400 hover:text-red-500 rounded\",title:\"Delete\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-3.5 w-3.5\"})})]})]}),task.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mb-3 line-clamp-2\",children:task.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(PriorityBadge,{priority:task.priority}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[assigneeNames.length>0&&/*#__PURE__*/_jsx(AvatarGroup,{names:assigneeNames,max:3,size:\"sm\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onComment===null||onComment===void 0?void 0:onComment(task);},className:\"flex items-center gap-1 text-xs text-gray-400 hover:text-gray-600\",title:\"Comments\",children:/*#__PURE__*/_jsx(CommentIcon,{className:\"h-3.5 w-3.5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onAssign===null||onAssign===void 0?void 0:onAssign(task);},className:\"p-1 text-gray-400 hover:text-gray-600 rounded\",title:\"Assign\",children:/*#__PURE__*/_jsx(UserPlusIcon,{className:\"h-3.5 w-3.5\"})})]})]})]}));}function EditIcon(_ref2){let{className}=_ref2;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:2,children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"})});}function TrashIcon(_ref3){let{className}=_ref3;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:2,children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})});}function CommentIcon(_ref4){let{className}=_ref4;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:2,children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})});}function UserPlusIcon(_ref5){let{className}=_ref5;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:2,children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\"})});}function CheckIcon(_ref6){let{className}=_ref6;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:2,children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M5 13l4 4L19 7\"})});}","map":{"version":3,"names":["useSortable","CSS","cn","PriorityBadge","AvatarGroup","jsx","_jsx","jsxs","_jsxs","KanbanCard","_ref","task","onEdit","onDelete","onAssign","onComment","onComplete","assignees","attributes","listeners","setNodeRef","transform","transition","isDragging","id","style","Transform","toString","assigneeNames","map","a","username","_objectSpread","ref","className","children","title","status","onClick","e","stopPropagation","CheckIcon","EditIcon","TrashIcon","description","priority","length","names","max","size","CommentIcon","UserPlusIcon","_ref2","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","_ref3","_ref4","_ref5","_ref6"],"sources":["/Users/mohanadbahammam/Desktop/task-frontend/src/components/kanban/KanbanCard.jsx"],"sourcesContent":["import { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { cn } from '../../utils/cn';\nimport { PriorityBadge } from '../ui/Badge';\nimport { AvatarGroup } from '../ui/Avatar';\n\nexport function KanbanCard({ task, onEdit, onDelete, onAssign, onComment, onComplete, assignees = [] }) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: task.id });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  const assigneeNames = assignees.map(a => a[1] || a.username || 'User');\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      {...attributes}\n      {...listeners}\n      className={cn(\n        'bg-white rounded-lg border border-gray-200 p-3 cursor-grab active:cursor-grabbing',\n        'hover:shadow-card transition-shadow duration-150',\n        'group',\n        isDragging && 'shadow-lifted opacity-90 rotate-2'\n      )}\n    >\n      <div className=\"flex items-start justify-between gap-2 mb-2\">\n        <h4 className=\"text-sm font-medium text-gray-900 line-clamp-2\">\n          {task.title}\n        </h4>\n        <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n          {task.status !== 'done' && (\n            <button\n              onClick={(e) => { e.stopPropagation(); onComplete?.(task); }}\n              className=\"p-1 text-gray-400 hover:text-emerald-500 rounded\"\n              title=\"Mark as Complete\"\n            >\n              <CheckIcon className=\"h-3.5 w-3.5\" />\n            </button>\n          )}\n          <button\n            onClick={(e) => { e.stopPropagation(); onEdit?.(task); }}\n            className=\"p-1 text-gray-400 hover:text-gray-600 rounded\"\n            title=\"Edit\"\n          >\n            <EditIcon className=\"h-3.5 w-3.5\" />\n          </button>\n          <button\n            onClick={(e) => { e.stopPropagation(); onDelete?.(task); }}\n            className=\"p-1 text-gray-400 hover:text-red-500 rounded\"\n            title=\"Delete\"\n          >\n            <TrashIcon className=\"h-3.5 w-3.5\" />\n          </button>\n        </div>\n      </div>\n\n      {task.description && (\n        <p className=\"text-xs text-gray-500 mb-3 line-clamp-2\">\n          {task.description}\n        </p>\n      )}\n\n      <div className=\"flex items-center justify-between\">\n        <PriorityBadge priority={task.priority} />\n        <div className=\"flex items-center gap-2\">\n          {assigneeNames.length > 0 && (\n            <AvatarGroup names={assigneeNames} max={3} size=\"sm\" />\n          )}\n          <button\n            onClick={(e) => { e.stopPropagation(); onComment?.(task); }}\n            className=\"flex items-center gap-1 text-xs text-gray-400 hover:text-gray-600\"\n            title=\"Comments\"\n          >\n            <CommentIcon className=\"h-3.5 w-3.5\" />\n          </button>\n          <button\n            onClick={(e) => { e.stopPropagation(); onAssign?.(task); }}\n            className=\"p-1 text-gray-400 hover:text-gray-600 rounded\"\n            title=\"Assign\"\n          >\n            <UserPlusIcon className=\"h-3.5 w-3.5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction EditIcon({ className }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n    </svg>\n  );\n}\n\nfunction TrashIcon({ className }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n    </svg>\n  );\n}\n\nfunction CommentIcon({ className }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n    </svg>\n  );\n}\n\nfunction UserPlusIcon({ className }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\n    </svg>\n  );\n}\n\nfunction CheckIcon({ className }) {\n  return (\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n    </svg>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}