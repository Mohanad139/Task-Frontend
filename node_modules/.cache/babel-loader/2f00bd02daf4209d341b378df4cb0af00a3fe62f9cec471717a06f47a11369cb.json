{"ast":null,"code":"var _jsxFileName = \"/Users/mohanadbahammam/Desktop/task-frontend/src/components/kanban/KanbanBoard.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { DndContext, DragOverlay, closestCorners, KeyboardSensor, PointerSensor, useSensor, useSensors } from '@dnd-kit/core';\nimport { sortableKeyboardCoordinates } from '@dnd-kit/sortable';\nimport { KanbanColumn } from './KanbanColumn';\nimport { KanbanCard } from './KanbanCard';\nimport { STATUS_ORDER } from '../../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function KanbanBoard({\n  tasks,\n  assigneesByTask = {},\n  onStatusChange,\n  onEdit,\n  onDelete,\n  onAssign,\n  onComment\n}) {\n  _s();\n  const [activeId, setActiveId] = useState(null);\n  const sensors = useSensors(useSensor(PointerSensor, {\n    activationConstraint: {\n      distance: 8\n    }\n  }), useSensor(KeyboardSensor, {\n    coordinateGetter: sortableKeyboardCoordinates\n  }));\n  const tasksByStatus = STATUS_ORDER.reduce((acc, status) => {\n    acc[status] = tasks.filter(t => t.status === status);\n    return acc;\n  }, {});\n  const activeTask = activeId ? tasks.find(t => t.id === activeId) : null;\n  const handleDragStart = event => {\n    setActiveId(event.active.id);\n  };\n  const handleDragEnd = event => {\n    const {\n      active,\n      over\n    } = event;\n    setActiveId(null);\n    if (!over) return;\n    const activeTask = tasks.find(t => t.id === active.id);\n    if (!activeTask) return;\n    const overId = over.id;\n    let newStatus = null;\n    if (STATUS_ORDER.includes(overId)) {\n      newStatus = overId;\n    } else {\n      const overTask = tasks.find(t => t.id === overId);\n      if (overTask) {\n        newStatus = overTask.status;\n      }\n    }\n    if (newStatus && activeTask.status !== newStatus) {\n      onStatusChange === null || onStatusChange === void 0 ? void 0 : onStatusChange(activeTask.id, newStatus);\n    }\n  };\n  const handleDragOver = event => {\n    const {\n      active,\n      over\n    } = event;\n    if (!over) return;\n    const activeTask = tasks.find(t => t.id === active.id);\n    if (!activeTask) return;\n    const overId = over.id;\n    let targetStatus = null;\n    if (STATUS_ORDER.includes(overId)) {\n      targetStatus = overId;\n    } else {\n      const overTask = tasks.find(t => t.id === overId);\n      if (overTask) {\n        targetStatus = overTask.status;\n      }\n    }\n    if (targetStatus && activeTask.status !== targetStatus) {\n      onStatusChange === null || onStatusChange === void 0 ? void 0 : onStatusChange(activeTask.id, targetStatus);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DndContext, {\n    sensors: sensors,\n    collisionDetection: closestCorners,\n    onDragStart: handleDragStart,\n    onDragEnd: handleDragEnd,\n    onDragOver: handleDragOver,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n      children: STATUS_ORDER.map(status => /*#__PURE__*/_jsxDEV(KanbanColumn, {\n        id: status,\n        tasks: tasksByStatus[status],\n        children: tasksByStatus[status].map(task => /*#__PURE__*/_jsxDEV(KanbanCard, {\n          task: task,\n          assignees: assigneesByTask[task.id] || [],\n          onEdit: onEdit,\n          onDelete: onDelete,\n          onAssign: onAssign,\n          onComment: onComment\n        }, task.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this))\n      }, status, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DragOverlay, {\n      children: activeTask ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rotate-3 shadow-lifted\",\n        children: /*#__PURE__*/_jsxDEV(KanbanCard, {\n          task: activeTask,\n          assignees: assigneesByTask[activeTask.id] || []\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(KanbanBoard, \"lJF2ifllG7vVDlCc9+CC6Mmw1hw=\", false, function () {\n  return [useSensors, useSensor, useSensor];\n});\n_c = KanbanBoard;\nvar _c;\n$RefreshReg$(_c, \"KanbanBoard\");","map":{"version":3,"names":["useState","DndContext","DragOverlay","closestCorners","KeyboardSensor","PointerSensor","useSensor","useSensors","sortableKeyboardCoordinates","KanbanColumn","KanbanCard","STATUS_ORDER","jsxDEV","_jsxDEV","KanbanBoard","tasks","assigneesByTask","onStatusChange","onEdit","onDelete","onAssign","onComment","_s","activeId","setActiveId","sensors","activationConstraint","distance","coordinateGetter","tasksByStatus","reduce","acc","status","filter","t","activeTask","find","id","handleDragStart","event","active","handleDragEnd","over","overId","newStatus","includes","overTask","handleDragOver","targetStatus","collisionDetection","onDragStart","onDragEnd","onDragOver","children","className","map","task","assignees","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mohanadbahammam/Desktop/task-frontend/src/components/kanban/KanbanBoard.jsx"],"sourcesContent":["import { useState } from 'react';\nimport {\n  DndContext,\n  DragOverlay,\n  closestCorners,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport { sortableKeyboardCoordinates } from '@dnd-kit/sortable';\nimport { KanbanColumn } from './KanbanColumn';\nimport { KanbanCard } from './KanbanCard';\nimport { STATUS_ORDER } from '../../utils/constants';\n\nexport function KanbanBoard({\n  tasks,\n  assigneesByTask = {},\n  onStatusChange,\n  onEdit,\n  onDelete,\n  onAssign,\n  onComment,\n}) {\n  const [activeId, setActiveId] = useState(null);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  const tasksByStatus = STATUS_ORDER.reduce((acc, status) => {\n    acc[status] = tasks.filter((t) => t.status === status);\n    return acc;\n  }, {});\n\n  const activeTask = activeId ? tasks.find((t) => t.id === activeId) : null;\n\n  const handleDragStart = (event) => {\n    setActiveId(event.active.id);\n  };\n\n  const handleDragEnd = (event) => {\n    const { active, over } = event;\n    setActiveId(null);\n\n    if (!over) return;\n\n    const activeTask = tasks.find((t) => t.id === active.id);\n    if (!activeTask) return;\n\n    const overId = over.id;\n    let newStatus = null;\n\n    if (STATUS_ORDER.includes(overId)) {\n      newStatus = overId;\n    } else {\n      const overTask = tasks.find((t) => t.id === overId);\n      if (overTask) {\n        newStatus = overTask.status;\n      }\n    }\n\n    if (newStatus && activeTask.status !== newStatus) {\n      onStatusChange?.(activeTask.id, newStatus);\n    }\n  };\n\n  const handleDragOver = (event) => {\n    const { active, over } = event;\n    if (!over) return;\n\n    const activeTask = tasks.find((t) => t.id === active.id);\n    if (!activeTask) return;\n\n    const overId = over.id;\n    let targetStatus = null;\n\n    if (STATUS_ORDER.includes(overId)) {\n      targetStatus = overId;\n    } else {\n      const overTask = tasks.find((t) => t.id === overId);\n      if (overTask) {\n        targetStatus = overTask.status;\n      }\n    }\n\n    if (targetStatus && activeTask.status !== targetStatus) {\n      onStatusChange?.(activeTask.id, targetStatus);\n    }\n  };\n\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={closestCorners}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}\n      onDragOver={handleDragOver}\n    >\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {STATUS_ORDER.map((status) => (\n          <KanbanColumn key={status} id={status} tasks={tasksByStatus[status]}>\n            {tasksByStatus[status].map((task) => (\n              <KanbanCard\n                key={task.id}\n                task={task}\n                assignees={assigneesByTask[task.id] || []}\n                onEdit={onEdit}\n                onDelete={onDelete}\n                onAssign={onAssign}\n                onComment={onComment}\n              />\n            ))}\n          </KanbanColumn>\n        ))}\n      </div>\n\n      <DragOverlay>\n        {activeTask ? (\n          <div className=\"rotate-3 shadow-lifted\">\n            <KanbanCard\n              task={activeTask}\n              assignees={assigneesByTask[activeTask.id] || []}\n            />\n          </div>\n        ) : null}\n      </DragOverlay>\n    </DndContext>\n  );\n}\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SACEC,UAAU,EACVC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,aAAa,EACbC,SAAS,EACTC,UAAU,QACL,eAAe;AACtB,SAASC,2BAA2B,QAAQ,mBAAmB;AAC/D,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,UAAU,QAAQ,cAAc;AACzC,SAASC,YAAY,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,OAAO,SAASC,WAAWA,CAAC;EAC1BC,KAAK;EACLC,eAAe,GAAG,CAAC,CAAC;EACpBC,cAAc;EACdC,MAAM;EACNC,QAAQ;EACRC,QAAQ;EACRC;AACF,CAAC,EAAE;EAAAC,EAAA;EACD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EAE9C,MAAMyB,OAAO,GAAGlB,UAAU,CACxBD,SAAS,CAACD,aAAa,EAAE;IACvBqB,oBAAoB,EAAE;MACpBC,QAAQ,EAAE;IACZ;EACF,CAAC,CAAC,EACFrB,SAAS,CAACF,cAAc,EAAE;IACxBwB,gBAAgB,EAAEpB;EACpB,CAAC,CACH,CAAC;EAED,MAAMqB,aAAa,GAAGlB,YAAY,CAACmB,MAAM,CAAC,CAACC,GAAG,EAAEC,MAAM,KAAK;IACzDD,GAAG,CAACC,MAAM,CAAC,GAAGjB,KAAK,CAACkB,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACF,MAAM,KAAKA,MAAM,CAAC;IACtD,OAAOD,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;EAEN,MAAMI,UAAU,GAAGZ,QAAQ,GAAGR,KAAK,CAACqB,IAAI,CAAEF,CAAC,IAAKA,CAAC,CAACG,EAAE,KAAKd,QAAQ,CAAC,GAAG,IAAI;EAEzE,MAAMe,eAAe,GAAIC,KAAK,IAAK;IACjCf,WAAW,CAACe,KAAK,CAACC,MAAM,CAACH,EAAE,CAAC;EAC9B,CAAC;EAED,MAAMI,aAAa,GAAIF,KAAK,IAAK;IAC/B,MAAM;MAAEC,MAAM;MAAEE;IAAK,CAAC,GAAGH,KAAK;IAC9Bf,WAAW,CAAC,IAAI,CAAC;IAEjB,IAAI,CAACkB,IAAI,EAAE;IAEX,MAAMP,UAAU,GAAGpB,KAAK,CAACqB,IAAI,CAAEF,CAAC,IAAKA,CAAC,CAACG,EAAE,KAAKG,MAAM,CAACH,EAAE,CAAC;IACxD,IAAI,CAACF,UAAU,EAAE;IAEjB,MAAMQ,MAAM,GAAGD,IAAI,CAACL,EAAE;IACtB,IAAIO,SAAS,GAAG,IAAI;IAEpB,IAAIjC,YAAY,CAACkC,QAAQ,CAACF,MAAM,CAAC,EAAE;MACjCC,SAAS,GAAGD,MAAM;IACpB,CAAC,MAAM;MACL,MAAMG,QAAQ,GAAG/B,KAAK,CAACqB,IAAI,CAAEF,CAAC,IAAKA,CAAC,CAACG,EAAE,KAAKM,MAAM,CAAC;MACnD,IAAIG,QAAQ,EAAE;QACZF,SAAS,GAAGE,QAAQ,CAACd,MAAM;MAC7B;IACF;IAEA,IAAIY,SAAS,IAAIT,UAAU,CAACH,MAAM,KAAKY,SAAS,EAAE;MAChD3B,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAGkB,UAAU,CAACE,EAAE,EAAEO,SAAS,CAAC;IAC5C;EACF,CAAC;EAED,MAAMG,cAAc,GAAIR,KAAK,IAAK;IAChC,MAAM;MAAEC,MAAM;MAAEE;IAAK,CAAC,GAAGH,KAAK;IAC9B,IAAI,CAACG,IAAI,EAAE;IAEX,MAAMP,UAAU,GAAGpB,KAAK,CAACqB,IAAI,CAAEF,CAAC,IAAKA,CAAC,CAACG,EAAE,KAAKG,MAAM,CAACH,EAAE,CAAC;IACxD,IAAI,CAACF,UAAU,EAAE;IAEjB,MAAMQ,MAAM,GAAGD,IAAI,CAACL,EAAE;IACtB,IAAIW,YAAY,GAAG,IAAI;IAEvB,IAAIrC,YAAY,CAACkC,QAAQ,CAACF,MAAM,CAAC,EAAE;MACjCK,YAAY,GAAGL,MAAM;IACvB,CAAC,MAAM;MACL,MAAMG,QAAQ,GAAG/B,KAAK,CAACqB,IAAI,CAAEF,CAAC,IAAKA,CAAC,CAACG,EAAE,KAAKM,MAAM,CAAC;MACnD,IAAIG,QAAQ,EAAE;QACZE,YAAY,GAAGF,QAAQ,CAACd,MAAM;MAChC;IACF;IAEA,IAAIgB,YAAY,IAAIb,UAAU,CAACH,MAAM,KAAKgB,YAAY,EAAE;MACtD/B,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAGkB,UAAU,CAACE,EAAE,EAAEW,YAAY,CAAC;IAC/C;EACF,CAAC;EAED,oBACEnC,OAAA,CAACZ,UAAU;IACTwB,OAAO,EAAEA,OAAQ;IACjBwB,kBAAkB,EAAE9C,cAAe;IACnC+C,WAAW,EAAEZ,eAAgB;IAC7Ba,SAAS,EAAEV,aAAc;IACzBW,UAAU,EAAEL,cAAe;IAAAM,QAAA,gBAE3BxC,OAAA;MAAKyC,SAAS,EAAC,sDAAsD;MAAAD,QAAA,EAClE1C,YAAY,CAAC4C,GAAG,CAAEvB,MAAM,iBACvBnB,OAAA,CAACJ,YAAY;QAAc4B,EAAE,EAAEL,MAAO;QAACjB,KAAK,EAAEc,aAAa,CAACG,MAAM,CAAE;QAAAqB,QAAA,EACjExB,aAAa,CAACG,MAAM,CAAC,CAACuB,GAAG,CAAEC,IAAI,iBAC9B3C,OAAA,CAACH,UAAU;UAET8C,IAAI,EAAEA,IAAK;UACXC,SAAS,EAAEzC,eAAe,CAACwC,IAAI,CAACnB,EAAE,CAAC,IAAI,EAAG;UAC1CnB,MAAM,EAAEA,MAAO;UACfC,QAAQ,EAAEA,QAAS;UACnBC,QAAQ,EAAEA,QAAS;UACnBC,SAAS,EAAEA;QAAU,GANhBmC,IAAI,CAACnB,EAAE;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAOb,CACF;MAAC,GAXe7B,MAAM;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAYX,CACf;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENhD,OAAA,CAACX,WAAW;MAAAmD,QAAA,EACTlB,UAAU,gBACTtB,OAAA;QAAKyC,SAAS,EAAC,wBAAwB;QAAAD,QAAA,eACrCxC,OAAA,CAACH,UAAU;UACT8C,IAAI,EAAErB,UAAW;UACjBsB,SAAS,EAAEzC,eAAe,CAACmB,UAAU,CAACE,EAAE,CAAC,IAAI;QAAG;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,GACJ;IAAI;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEjB;AAACvC,EAAA,CAzHeR,WAAW;EAAA,QAWTP,UAAU,EACxBD,SAAS,EAKTA,SAAS;AAAA;AAAAwD,EAAA,GAjBGhD,WAAW;AAAA,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}